<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>幻兽帕鲁服务器搭建及维护</title>
      <link href="/2024/01/30/a/"/>
      <url>/2024/01/30/a/</url>
      
        <content type="html"><![CDATA[<h1 id="帕鲁"><a href="#帕鲁" class="headerlink" title="帕鲁"></a>帕鲁</h1><h1 id="幻兽帕鲁搭建教程-基于Windows-server2022系统"><a href="#幻兽帕鲁搭建教程-基于Windows-server2022系统" class="headerlink" title="幻兽帕鲁搭建教程 - (基于Windows-server2022系统)"></a>幻兽帕鲁搭建教程 - (基于Windows-server2022系统)</h1><p>假期帮朋友在云服务器上面搭建了幻兽帕鲁服务端，并全程负责了维护，简单记录一下搭建的过程、维护用的工具和一些心得。</p><h2 id="基本步骤"><a href="#基本步骤" class="headerlink" title="基本步骤"></a>基本步骤</h2><ul><li>创建主机，选择Windows2022并开启端口</li><li>依赖环境安装</li><li>登录Steam账号，</li></ul><h2 id="创建和登录主机"><a href="#创建和登录主机" class="headerlink" title="创建和登录主机"></a>创建和登录主机</h2><ul><li>配置越高越流畅，建议16G以上</li><li>至少选择4C16G5M主机， 适合3-4人，</li></ul><p>主机创建好后，访问控制台</p><ul><li>添加UDP 8211端口和 TCP 3389端口，</li><li>登录云主机，通过控制台，或者通过远程桌面登录主机</li><li>在电脑上同时按键“windows+R”，打开运行 ，输入 mstsc ，点击确定打开远程桌面</li></ul><p>弹出远程桌面连接框，输入主机的公网IP</p><p>选择更多选项，使用其它账户，账户名是administrator， 密码主机的密码</p><h2 id="安装依赖环境"><a href="#安装依赖环境" class="headerlink" title="安装依赖环境"></a>安装依赖环境</h2><h3 id="安装-DirectX"><a href="#安装-DirectX" class="headerlink" title="安装 DirectX"></a>安装 DirectX</h3><p>访问  <a href="https://www.microsoft.com/zh-cn/download/details.aspx?id=35">DirectX下载地址</a> ，选择语言是中文进行下载（如果访问地址没展示可下载内容，建议换个浏览器，或者本地计算机下载后，复制到云主机中）</p><p>点击下载的程序dxwebsetup 进行安装</p><h3 id="安装-Microsoft-visual-C"><a href="#安装-Microsoft-visual-C" class="headerlink" title="安装 Microsoft visual C++"></a>安装 Microsoft visual C++</h3><p>访问 <a href="https://aka.ms/vs/17/release/vc_redist.x64.exe">visual C++ 地址</a> 进行下载， 点击下载的VC_redist.x64 进行安装</p><h3 id="安装Steam-CMD"><a href="#安装Steam-CMD" class="headerlink" title="安装Steam CMD"></a>安装Steam CMD</h3><p>访问<a href="https://developer.valvesoftware.com/wiki/SteamCMD#Windows">Steam CMD地址</a>， 进行下载</p><p>解压缩下载的steamcmd安装包，点击steamcmd 安装程序进行安装</p><p>安装完成，如果进度有卡住可以同时按“Ctrl+C” ， 刷新查看最新进度</p><p>在启动的服务中，输入 login anonymous 匿名登录steam服务器</p><p>输入 app_update 2394010 validate  ，下载游戏服务端</p><p>访问  \steamcmd\steamapps\common\PalServer 地址， 启动PalSever.exe 程序</p><p>启动后效果</p><h2 id="登录幻兽帕鲁"><a href="#登录幻兽帕鲁" class="headerlink" title="登录幻兽帕鲁"></a>登录幻兽帕鲁</h2><p>在自己的电脑上登录Steam账号， 并购买幻兽帕鲁（Palworld），在“库”中搜索幻兽帕鲁， 并且进行下载</p><p>下载好后，点击开始游戏</p><p>选择加入“加入多人游戏”</p><p>输入服务器实例地址和端口，</p><h1 id="世界配置"><a href="#世界配置" class="headerlink" title="世界配置"></a>世界配置</h1><h2 id="Default-setting-默认设置"><a href="#Default-setting-默认设置" class="headerlink" title="Default setting 默认设置"></a>Default setting 默认设置</h2><p>Default settings are located in steamapps&#x2F;common&#x2F;PalServer&#x2F;DefaultPalWorldSettings.ini It is recommended to copy and use.<br>默认设置位于steamapps&#x2F;common&#x2F;PalServer&#x2F;DefaultPalWorldSettings.ini中 建议复制并使用。</p><h2 id="Configuration-parameters-配置参数"><a href="#Configuration-parameters-配置参数" class="headerlink" title="Configuration parameters 配置参数"></a>Configuration parameters 配置参数</h2><p>C:\down\1\steamapps\common\PalServer</p><p>This configuration file is a sample of the default server settings.<br>Changes to this file will NOT be reflected on the server.<br>To change the server settings, modify Pal&#x2F;Saved&#x2F;Config&#x2F;WindowsServer&#x2F;PalWorldSettings.ini.<br>[&#x2F;Script&#x2F;Pal.PalGameWorldSettings]<br>OptionSettings&#x3D;(Difficulty&#x3D;None,DayTimeSpeedRate&#x3D;1.000000,NightTimeSpeedRate&#x3D;1.000000,ExpRate&#x3D;1.000000,PalCaptureRate&#x3D;1.000000,PalSpawnNumRate&#x3D;1.000000,PalDamageRateAttack&#x3D;1.000000,PalDamageRateDefense&#x3D;1.000000,PlayerDamageRateAttack&#x3D;1.000000,PlayerDamageRateDefense&#x3D;1.000000,PlayerStomachDecreaceRate&#x3D;1.000000,PlayerStaminaDecreaceRate&#x3D;1.000000,PlayerAutoHPRegeneRate&#x3D;1.000000,PlayerAutoHpRegeneRateInSleep&#x3D;1.000000,PalStomachDecreaceRate&#x3D;1.000000,PalStaminaDecreaceRate&#x3D;1.000000,PalAutoHPRegeneRate&#x3D;1.000000,PalAutoHpRegeneRateInSleep&#x3D;1.000000,BuildObjectDamageRate&#x3D;0.500000,BuildObjectDeteriorationDamageRate&#x3D;0.000000,CollectionDropRate&#x3D;1.000000,CollectionObjectHpRate&#x3D;1.000000,CollectionObjectRespawnSpeedRate&#x3D;1.000000,EnemyDropItemRate&#x3D;1.000000,DeathPenalty&#x3D;None,bEnablePlayerToPlayerDamage&#x3D;False,bEnableFriendlyFire&#x3D;False,bEnableInvaderEnemy&#x3D;True,bActiveUNKO&#x3D;False,bEnableAimAssistPad&#x3D;True,bEnableAimAssistKeyboard&#x3D;False,DropItemMaxNum&#x3D;3000,DropItemMaxNum_UNKO&#x3D;100,BaseCampMaxNum&#x3D;128,BaseCampWorkerMaxNum&#x3D;15,DropItemAliveMaxHours&#x3D;1.000000,bAutoResetGuildNoOnlinePlayers&#x3D;False,AutoResetGuildTimeNoOnlinePlayers&#x3D;72.000000,GuildPlayerMaxNum&#x3D;20,PalEggDefaultHatchingTime&#x3D;0.000000,WorkSpeedRate&#x3D;1.000000,bIsMultiplay&#x3D;False,bIsPvP&#x3D;False,bCanPickupOtherGuildDeathPenaltyDrop&#x3D;False,bEnableNonLoginPenalty&#x3D;True,bEnableFastTravel&#x3D;True,bIsStartLocationSelectByMap&#x3D;True,bExistPlayerAfterLogout&#x3D;False,bEnableDefenseOtherGuildPlayer&#x3D;False,CoopPlayerMaxNum&#x3D;4,ServerPlayerMaxNum&#x3D;8,ServerName&#x3D;”Genshin launched”,ServerDescription&#x3D;””,AdminPassword&#x3D;”ilovenahida”,ServerPassword&#x3D;”654321”,PublicPort&#x3D;8211,PublicIP&#x3D;””,RCONEnabled&#x3D;False,RCONPort&#x3D;25575,Region&#x3D;””,bUseAuth&#x3D;True,BanListURL&#x3D;”<a href="https://api.palworldgame.com/api/banlist.txt">https://api.palworldgame.com/api/banlist.txt</a>“)</p><p>We recommend that you copy the default settings to a configuration file and then change only the necessary settings. Also, line breaks are not allowed in the middle of a line. *Note that there are parameters reserved for future updates.<br>建议将默认设置复制到配置文件中，然后只更改必要的设置。 此外，不允许在直线的中间使用换行符。 *请注意，有一些参数是为将来的更新保留的。</p><table><thead><tr><th>Difficulty 困难</th><th>Difficulty 困难</th></tr></thead><tbody><tr><td>DayTimeSpeedRate</td><td>Day time speed 白天速度</td></tr><tr><td>NightTimeSpeedRate 夜间速度</td><td>Night time speed 夜间速度</td></tr><tr><td>ExpRate</td><td>EXP rate EXP费率</td></tr><tr><td>PalCaptureRate</td><td>Pal capture rate Pal捕获率</td></tr><tr><td>PalSpawnNumRate</td><td>Pal appearance rate Pal出现率</td></tr><tr><td>PalDamageRateAttack</td><td>Damage from pals multipiler 好友多人攻击造成的伤害</td></tr><tr><td>PalDamageRateDefense</td><td>Damage to pals multipiler 对好友多人攻击造成的伤害</td></tr><tr><td>PlayerDamageRateAttack 玩家伤害率攻击</td><td>Damage from player multipiler 玩家多人攻击造成的伤害</td></tr><tr><td>PlayerDamageRateDefense 播放器损坏率防御</td><td>Damage to  player multipiler 对玩家多人攻击造成伤害</td></tr><tr><td>PlayerStomachDecreaceRate 玩家胃部反应迟钝</td><td>Player hunger depletion rate 玩家饥饿消耗率</td></tr><tr><td>PlayerStaminaDecreaceRate</td><td>Player stamina reduction rate 玩家耐力降低率</td></tr><tr><td>PlayerAutoHPRegeneRate 播放器自动HP再生速率</td><td>Player auto HP regeneration rate 玩家自动生命值再生率</td></tr><tr><td>PlayerAutoHpRegeneRateInSleep 播放器自动更新日期睡眠</td><td>Player sleep HP regeneration rate 玩家睡眠生命值再生率</td></tr><tr><td>PalStomachDecreaceRate Pal胃部反应迟钝</td><td>Pal hunger depletion rate 帕尔饥饿消耗率</td></tr><tr><td>PalStaminaDecreaceRate PalStamina反应迟钝</td><td>Pal stamina reduction rate 帕尔耐力降低率</td></tr><tr><td>PalAutoHPRegeneRate PalAutoHP再生速率</td><td>Pal auto HP regeneration rate Pal自动HP再生率</td></tr><tr><td>PalAutoHpRegeneRateInSleep PalAutoHpRegenerRateInSleep</td><td>Pal sleep health regeneration rate (in Palbox) Pal睡眠健康再生率（在Palbox中）</td></tr><tr><td>BuildObjectDamageRate 建筑对象损坏率</td><td>Damage to structure multipiler 结构多卷机损坏</td></tr><tr><td>BuildObjectDeteriorationDamageRate 建筑对象退化损坏率</td><td>Structure determination rate 结构确定率</td></tr><tr><td>CollectionDropRate</td><td>Getherable items multipiler</td></tr><tr><td>CollectionObjectHpRate 集合对象HpRate</td><td>Getherable objects HP multipiler Getherable对象HP多编译器</td></tr><tr><td>CollectionObjectRespawnSpeedRate</td><td>Getherable objects respawn interval Getherable object respawn interval</td></tr><tr><td>EnemyDropItemRate</td><td>Dropped Items Multipiler</td></tr><tr><td>DeathPenalty 死刑</td><td>Death penalty None : No lost, Item : Lost item without equipment, ItemAndEquipment : Lost item and equipment, All : Lost All item, equipment, pal(in inventory) 死刑 无：没有丢失，物品：没有设备的丢失物品，物品和设备：丢失的物品和设备，全部：丢失的所有物品，设备，朋友（库存中）</td></tr><tr><td>GuildPlayerMaxNum</td><td>Max player of Guild 帮会最大玩家</td></tr><tr><td>PalEggDefaultHatchingTime PalEggDefault孵化时间</td><td>Time(h) to incubate massive egg 孵化大量卵子的时间（h）</td></tr><tr><td>ServerPlayerMaxNum 服务器播放器最大数量</td><td>Maximum number of people who can join the server 可以加入服务器的最大人数</td></tr><tr><td>ServerName</td><td>Server name 服务器名称</td></tr><tr><td>ServerDescription 服务器描述</td><td>Server description 服务器描述</td></tr><tr><td>AdminPassword 管理员密码</td><td>AdminPassword 管理员密码</td></tr><tr><td>ServerPassword 服务器密码</td><td>Set the server password. 设置服务器密码。</td></tr><tr><td>PublicPort</td><td>Public port number 公共端口号</td></tr><tr><td>PublicIP</td><td>Public IP 公共IP</td></tr><tr><td>RCONEnabled RCON已启用</td><td>Enable RCON 启用RCON</td></tr><tr><td>RCONPort RCON端口</td><td>Port number for RCON RCON的端口号</td></tr></tbody></table><h1 id="开通端口方式"><a href="#开通端口方式" class="headerlink" title="开通端口方式"></a>开通端口方式</h1><h1 id="防火墙-开启目标端口"><a href="#防火墙-开启目标端口" class="headerlink" title="防火墙 - 开启目标端口"></a>防火墙 - 开启目标端口</h1><p>防火墙是对您轻量云主机的网络访问的安全控制，防火墙只对轻量云主机的入流量进行控制，出流量默认允许所有请求，您可以配置防火墙规则，允许或禁止公网IP对轻量云主机的访问。</p><h2 id="防火墙规则内容"><a href="#防火墙规则内容" class="headerlink" title="防火墙规则内容"></a>防火墙规则内容</h2><p>类型：常用应用类型，例如SSH 或HTTP 等，也可选择自定义TCP或UDP。</p><p>协议：根据应用类型选择，显示所属协议类型。</p><p>目标端口：配置入站规则，目标端口指轻量云主机实例的端口，端口取值1-65535，可填写单一端口如“22”或端口范围如“20&#x2F;22”。</p><p>如您在规则类型中选择常用应用，目标端口会直接显示为对应默认端口，不需要设置；如您选择自定义TCP&#x2F;自定义UDP，可自定义端口范围。</p><p>源IP：允许访问的IP地址，IPv4地址，如填写0.0.0.0&#x2F;0表示允许所有IP地址访问。</p><p>备注：标识规则用途，最多可输入256字符。</p><h2 id="配置防火墙策略"><a href="#配置防火墙策略" class="headerlink" title="配置防火墙策略"></a>配置防火墙策略</h2><p>访问用户控制台，查看已购的轻量云主机列表。</p><p>选择一个主机，点击操作中的查看按钮。</p><p>在实例详情页，点击防火墙进行访问。</p><p>点击添加规则，添加一个防火墙策略。</p><p>例如，如果访问某个应用需要使用9009端口，那么设置开通目标端口是9009，允许所有IP地址访问该端口，点击保存后自动生效。</p><h1 id="如何更新服务端"><a href="#如何更新服务端" class="headerlink" title="如何更新服务端"></a>如何更新服务端</h1><p>Windows环境下具体升级步骤如下：</p><p>双击桌面文件夹中的steamcmd文件，打开steamcmd.exe窗口</p><p>输入：login anonymous</p><p>执行完成后输入：app_update 2394010 validate</p><p>再次执行完成后输入：quit</p><p>如果不动弹就按一下Ctrl + c就能显示了</p><p>然后重启服务器，重新登陆开启服务即可重新进入游戏</p><h1 id="管理员登录"><a href="#管理员登录" class="headerlink" title="管理员登录"></a>管理员登录</h1><h2 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h2><p>要成为服务器上的管理员，需要使用配置的管理员密码登录。</p><ol><li>连接到您的Palworld服务器。</li><li>按 <code>Enter</code> 打开聊天室。</li><li>输入命令 <code>/AdminPassword &lt;Password&gt;</code> 。</li></ol><h2 id="如何在Palworld服务器上使用管理命令"><a href="#如何在Palworld服务器上使用管理命令" class="headerlink" title="如何在Palworld服务器上使用管理命令"></a>如何在Palworld服务器上使用管理命令</h2><p>Palworld服务器管理员可以使用一系列有用的命令，如消息广播命令和传送命令。<br>注意：为了使用管理命令，您需要以管理员身份连接。</p><hr><h2 id="Palworld-Admin-Commands-Palworld管理命令"><a href="#Palworld-Admin-Commands-Palworld管理命令" class="headerlink" title="Palworld Admin Commands Palworld管理命令"></a><strong>Palworld Admin Commands Palworld管理命令</strong></h2><p>以下是当前可用的Palworld服务器管理命令列表。其中一些命令不能在服务器中使用</p><table><thead><tr><th>Command 命令</th><th>Description 说明</th></tr></thead><tbody><tr><td><code>/Shutdown [Seconds] [Message Text]</code></td><td>此命令将在秒延迟到期后关闭带有指定消息的服务器。</td></tr><tr><td><code>/DoExit</code></td><td>使用此命令立即停止服务器。</td></tr><tr><td><code>/Broadcast [Message Text]</code></td><td>从服务器向每个连接的玩家广播消息。</td></tr><tr><td><code>/KickPlayer [Player ID or Steam ID]</code></td><td>断开指定播放器与服务器的连接。</td></tr><tr><td><code>/BanPlayer [Player ID or Steam ID]</code></td><td>禁止指定的玩家进入服务器。当前没有取消登录命令，要取消玩家的登录，您需要从  <code>Pal/Saved/SaveGames/banlist.txt</code> 中删除他们的姓名#</td></tr><tr><td><code>/TeleportToPlayer [Player ID or Steam ID]</code></td><td>将您传送到指定玩家的位置。无法从控制台运行此命令。</td></tr><tr><td><code>/TeleportToMe [Player ID or Steam ID]</code></td><td>将指定的玩家传送到您的位置。此命令也不能从控制台使用。</td></tr><tr><td><code>/ShowPlayers</code></td><td>显示所有连接玩家的玩家ID和Steam ID等信息。</td></tr><tr><td><code>/Info</code></td><td>显示有关服务器的信息。</td></tr><tr><td><code>/Save</code></td><td>这个命令部队保存世界数据。</td></tr></tbody></table><h2 id="管理员身份踢出-禁用"><a href="#管理员身份踢出-禁用" class="headerlink" title="管理员身份踢出&#x2F;禁用"></a>管理员身份踢出&#x2F;禁用</h2><p>Palworld服务器管理员可以使用kick和ban命令将破坏性或不需要的玩家踢出或禁止其服务器。</p><hr><h2 id="Retrieving-Player-Information-正在检索玩家信息"><a href="#Retrieving-Player-Information-正在检索玩家信息" class="headerlink" title="**Retrieving Player Information 正在检索玩家信息 **"></a>**Retrieving Player Information 正在检索玩家信息 **</h2><p>要删除你的好友世界服务器上的玩家，你必须首先知道他们的玩家ID或Steam ID。</p><ol><li><strong>Connect</strong> to your Palworld server <a href="https://shockbyte.com/billing/knowledgebase/1186/How-to-become-an-Admin-on-your-Palworld-server.html">as an admin</a>.<br>以管理员身份连接到您的Palworld服务器。</li><li>Press <code>Enter</code> to open the chat.<br>按 <code>Enter</code> 打开聊天室。</li><li>Enter the command <code>/ShowPlayers</code>.<br>输入命令 <code>/ShowPlayers</code> 。</li><li>Take note of either the <strong>Player ID</strong> or the <strong>Steam ID</strong> of the player you would like to punish.<br>记下你想惩罚的玩家的玩家ID或Steam ID。</li></ol><hr><h2 id="Kicking-a-Player-踢球员"><a href="#Kicking-a-Player-踢球员" class="headerlink" title="**Kicking a Player 踢球员 **"></a>**Kicking a Player 踢球员 **</h2><p>Once you know the ID of the player you would like to punish, you can kick them using the proper command.<br>一旦你知道了你想惩罚的球员的ID，你就可以用正确的命令踢他们。</p><ol><li><strong>Connect</strong> to your Palworld server <a href="https://shockbyte.com/billing/knowledgebase/1186/How-to-become-an-Admin-on-your-Palworld-server.html">as an admin</a>.<br>以管理员身份连接到您的Palworld服务器。</li><li>Open the chat, then enter the command <code>/KickPlayer &lt;Player ID or Steam ID&gt;</code>.<br>打开聊天室，然后输入命令 <code>/KickPlayer &lt;Player ID or Steam ID&gt;</code> 。</li></ol><hr><h2 id="Banning-a-Player-禁止玩家"><a href="#Banning-a-Player-禁止玩家" class="headerlink" title="**Banning a Player 禁止玩家 **"></a>**Banning a Player 禁止玩家 **</h2><p>Once you know the ID of the player you would like to punish, you can ban them permanently using the proper command.<br>一旦你知道了你想惩罚的玩家的ID，你就可以使用适当的命令永久禁止他们。</p><ol><li><strong>Connect</strong> to your Palworld server <a href="https://shockbyte.com/billing/knowledgebase/1186/How-to-become-an-Admin-on-your-Palworld-server.html">as an admin</a>.<br>以管理员身份连接到您的Palworld服务器。</li><li>Open the chat, then enter the command <code>/BanPlayer &lt;Player ID or Steam ID&gt;</code>.<br>打开聊天室，然后输入命令 <code>/BanPlayer &lt;Player ID or Steam ID&gt;</code> 。</li></ol><hr><h2 id="Locating-Local-World-Files-定位本地世界文件"><a href="#Locating-Local-World-Files-定位本地世界文件" class="headerlink" title="**Locating Local World Files 定位本地世界文件 **"></a>**Locating Local World Files 定位本地世界文件 **</h2><p>You can directly access your save files from an open folder button found in-game.<br>您可以从游戏中的“打开文件夹”按钮直接访问保存文件。</p><ol><li>Open Palworld, and click <strong>Start Game</strong> to view your world list.<br>打开好友世界，然后单击开始游戏查看您的世界列表。</li><li>Select your desired world, then click the folder icon in the bottom left.<br>选择您想要的世界，然后单击左下角的文件夹图标。</li><li>You should now see your world files, put these to the side, but keep them ready to upload.<br>你现在应该看到你的世界文件，把它们放在一边，但要准备好上传。</li></ol><hr><h2 id="Uploading-an-Existing-World-上传现有世界"><a href="#Uploading-an-Existing-World-上传现有世界" class="headerlink" title="**Uploading an Existing World 上传现有世界 **"></a>**Uploading an Existing World 上传现有世界 **</h2><p>Once you have located your existing Palworld world files, you can replace your server’s existing world files with them.<br>一旦您找到了现有的Palworld世界文件，您就可以用它们替换服务器的现有世界文件。</p><ol><li><p>Navigate to your <a href="https://mc.shockbyte.com/">control panel</a> and <strong>Stop</strong> your server.<br>导航到控制面板并停止服务器。</p></li><li><p>Connect to your server using an external FTP program, we recommend <a href="https://shockbyte.com/billing/knowledgebase/40/How-to-Use-FileZilla-for-FTP-File-Management.html">FileZilla</a>.<br>使用外部FTP程序连接到您的服务器，我们建议使用FileZilla。</p></li><li><p>Navigate to <code>/Pal/Saved/SaveGames/0</code>, then open the last folder which will usually be named a random string of characters.<br>导航到 <code>/Pal/Saved/SaveGames/0</code> ，然后打开最后一个文件夹，该文件夹通常由随机字符串命名。</p></li><li><p><strong>Delete all the files</strong> within this folder, they will need to be replaced by your existing world files.<br>删除此文件夹中的所有文件，它们将需要替换为现有的世界文件。</p><p>Feel free to download or backup these files if you would like to use them  again in the future, but they cannot be in this folder anymore.<br>如果您将来想再次使用这些文件，请随时下载或备份这些文件，但它们不能再在此文件夹中。</p></li><li><p>Upload your <strong>existing world files</strong>, excluding the <strong>WorldOption.sav</strong> file, to the now empty server directory.<br>将您现有的世界文件（不包括WorldOption.sav文件）上载到现在为空的服务器目录中。</p><p>If you upload the WorldOption.sav file, your server configuration options will be completely overridden.<br>如果您上传WorldOption.sav文件，您的服务器配置选项将被完全覆盖。</p></li><li><p><strong>Start</strong> your server. 启动服务器。</p></li></ol><h1 id="FTP远程通讯"><a href="#FTP远程通讯" class="headerlink" title="FTP远程通讯"></a>FTP远程通讯</h1><h2 id="第一种方案（Windows-Server-自带-IIS-搭建）"><a href="#第一种方案（Windows-Server-自带-IIS-搭建）" class="headerlink" title="第一种方案（Windows Server 自带 IIS 搭建）"></a>第一种方案（Windows Server 自带 IIS 搭建）</h2><h4 id="1，添加IIS角色-选择-“左下角开始”-服务器管理器”，-单击“添加角色和功能”；"><a href="#1，添加IIS角色-选择-“左下角开始”-服务器管理器”，-单击“添加角色和功能”；" class="headerlink" title="1，添加IIS角色 &gt; 选择 “左下角开始” &gt; 服务器管理器”， 单击“添加角色和功能”；"></a>1，添加IIS角色 &gt; 选择 “左下角开始” &gt; 服务器管理器”， 单击“添加角色和功能”；</h4><h4 id="2，选择下一步；"><a href="#2，选择下一步；" class="headerlink" title="2，选择下一步；"></a>2，选择下一步；</h4><h4 id="3，选择下一步；"><a href="#3，选择下一步；" class="headerlink" title="3，选择下一步；"></a>3，选择下一步；</h4><h4 id="4，选择下一步；"><a href="#4，选择下一步；" class="headerlink" title="4，选择下一步；"></a>4，选择下一步；</h4><h4 id="5，选择“Web服务器（IIS）”，点击“添加功能”，然后点击下一步；"><a href="#5，选择“Web服务器（IIS）”，点击“添加功能”，然后点击下一步；" class="headerlink" title="5，选择“Web服务器（IIS）”，点击“添加功能”，然后点击下一步；"></a>5，选择“Web服务器（IIS）”，点击“添加功能”，然后点击下一步；</h4><h4 id="6，这个应该是不用点什么的，图片里面那个-NET安装了一个还是两个无所谓"><a href="#6，这个应该是不用点什么的，图片里面那个-NET安装了一个还是两个无所谓" class="headerlink" title="6，这个应该是不用点什么的，图片里面那个.NET安装了一个还是两个无所谓"></a>6，这个应该是不用点什么的，图片里面那个.NET安装了一个还是两个无所谓</h4><h4 id="7，选择“FTP服务器”，这俩可以都勾选上，点击下一步；"><a href="#7，选择“FTP服务器”，这俩可以都勾选上，点击下一步；" class="headerlink" title="7，选择“FTP服务器”，这俩可以都勾选上，点击下一步；"></a>7，选择“FTP服务器”，这俩可以都勾选上，点击下一步；</h4><h4 id="8，选择安装，耐心等待，安装完成后，点击关闭，至此IIS安装完毕。"><a href="#8，选择安装，耐心等待，安装完成后，点击关闭，至此IIS安装完毕。" class="headerlink" title="8，选择安装，耐心等待，安装完成后，点击关闭，至此IIS安装完毕。"></a>8，选择安装，耐心等待，安装完成后，点击关闭，至此IIS安装完毕。</h4><h4 id="9，添加用于登录FTP站点的用户，如果你的FTP站点是完全对外开放的，可以不创建用户，匿名登录即可；"><a href="#9，添加用于登录FTP站点的用户，如果你的FTP站点是完全对外开放的，可以不创建用户，匿名登录即可；" class="headerlink" title="9，添加用于登录FTP站点的用户，如果你的FTP站点是完全对外开放的，可以不创建用户，匿名登录即可；"></a>9，添加用于登录FTP站点的用户，如果你的FTP站点是完全对外开放的，可以不创建用户，匿名登录即可；</h4><p>选择“开始 &gt; Windows管理工具”，打开“计算机管理”；选择“系统用户 &gt; 本地用户和组 &gt; 用户”，在右侧空白处右击，选择“新用户”，设置用户名、密码，点击创建即可，至此FTP登录用户添加完毕。</p><h4 id="10，添加FTP站点，选择“开始-Windows管理工具”，打开IIS管理器，选择“网站”，右击“添加FTP站点”；"><a href="#10，添加FTP站点，选择“开始-Windows管理工具”，打开IIS管理器，选择“网站”，右击“添加FTP站点”；" class="headerlink" title="10，添加FTP站点，选择“开始 &gt; Windows管理工具”，打开IIS管理器，选择“网站”，右击“添加FTP站点”；"></a>10，添加FTP站点，选择“开始 &gt; Windows管理工具”，打开IIS管理器，选择“网站”，右击“添加FTP站点”；</h4><h4 id="11，设置站点名称和站点目录；这个目录应该就是要共享的文件夹"><a href="#11，设置站点名称和站点目录；这个目录应该就是要共享的文件夹" class="headerlink" title="11，设置站点名称和站点目录；这个目录应该就是要共享的文件夹"></a>11，设置站点名称和站点目录；这个目录应该就是要共享的文件夹</h4><h4 id="12，绑定IP地址保持默认即可，SSL选择：“无SSL”；"><a href="#12，绑定IP地址保持默认即可，SSL选择：“无SSL”；" class="headerlink" title="12，绑定IP地址保持默认即可，SSL选择：“无SSL”；"></a>12，绑定IP地址保持默认即可，SSL选择：“无SSL”；</h4><h4 id="13，身份验证和授权配置，至此FTP站点添加完毕。"><a href="#13，身份验证和授权配置，至此FTP站点添加完毕。" class="headerlink" title="13，身份验证和授权配置，至此FTP站点添加完毕。"></a>13，身份验证和授权配置，至此FTP站点添加完毕。</h4><p>身份验证这里选择了“基本”意思是需要用户提供有效用户名和密码才能访问内容。</p><p>如果选择匿名，则是允许任何仅提供用户名 “anonymous” 或 “FTP” 的用户访问内容。</p><p>授权这里选择了指定用户，仅指定的用户才能访问相应内容，这个指定用户见第9步中添加的用户；</p><p>权限选择了读取和写入；</p><h4 id="14，设置FTP站点根目录访问权限，打开FTP文件夹属性，选择“安全”，点击“编辑”；"><a href="#14，设置FTP站点根目录访问权限，打开FTP文件夹属性，选择“安全”，点击“编辑”；" class="headerlink" title="14，设置FTP站点根目录访问权限，打开FTP文件夹属性，选择“安全”，点击“编辑”；"></a>14，设置FTP站点根目录访问权限，打开FTP文件夹属性，选择“安全”，点击“编辑”；</h4><h4 id="15，点击“添加”-选择指定用户-点击“高级”-点击“立即查找”，选择FTP用户，点击“确定”；"><a href="#15，点击“添加”-选择指定用户-点击“高级”-点击“立即查找”，选择FTP用户，点击“确定”；" class="headerlink" title="15，点击“添加”&gt;选择指定用户 &gt;点击“高级”&gt;点击“立即查找”，选择FTP用户，点击“确定”；"></a>15，点击“添加”&gt;选择指定用户 &gt;点击“高级”&gt;点击“立即查找”，选择FTP用户，点击“确定”；</h4><h4 id="16，设置FTPuser对FTP目录的权限为完全控制，至此FTP站点根目录访问权限设置完毕。"><a href="#16，设置FTPuser对FTP目录的权限为完全控制，至此FTP站点根目录访问权限设置完毕。" class="headerlink" title="16，设置FTPuser对FTP目录的权限为完全控制，至此FTP站点根目录访问权限设置完毕。"></a>16，设置FTPuser对FTP目录的权限为完全控制，至此FTP站点根目录访问权限设置完毕。</h4><h4 id="17，测试连接；（不能连接就执行后面的步骤）"><a href="#17，测试连接；（不能连接就执行后面的步骤）" class="headerlink" title="17，测试连接；（不能连接就执行后面的步骤）"></a>17，测试连接；（不能连接就执行后面的步骤）</h4><h4 id="18-配置防火墙"><a href="#18-配置防火墙" class="headerlink" title="18.配置防火墙"></a>18.配置防火墙</h4><h5 id="（1）"><a href="#（1）" class="headerlink" title="（1）"></a>（1）</h5><p>选择允许应用或功能通过Windows防火墙</p><p>添加Windows主服务通过防火墙</p><p>选择 <strong>C:\Windows\System32\svchost.exe</strong> 点击确定</p><p>点击确定保存设置</p><h5 id="（2）"><a href="#（2）" class="headerlink" title="（2）"></a>（2）</h5><p>左下角开始，打开控制面板。 </p><p>选择windows防火墙，高级设置。</p><p>左侧选择入站规则，右侧选择新建规则。</p><p>选择端口，输入ftp服务的默认端口21，选择允许连接，输入规则名称，完成。 </p><p>控制面板，windows防火墙，允许应用或者功能通过Windows防火墙。<br>选择允许其他应用，浏览。 </p><p>找到”C:\Windows\System32\svchost.exe”，双击选择添加。（找不到的话就不添加，跳过这步） [</p><h4 id="19，出现报错："><a href="#19，出现报错：" class="headerlink" title="19，出现报错："></a>19，出现报错：</h4><h5 id="报错1："><a href="#报错1：" class="headerlink" title="报错1："></a>报错1：</h5><p>无法连接到服务器</p><p>解决方法：</p><p>打开京东云控制台-轻量云主机-主机列表，点击“查看”</p><p>点击“防火墙”</p><p>添加规则，类型为ftp，源IP为0.0.0.0&#x2F;0，点击保存（因为我添加过了所以已经有这条规则了）</p><h5 id="报错2："><a href="#报错2：" class="headerlink" title="报错2："></a>报错2：</h5><p>解决方法：</p><p>win10服务器端打开IE浏览器-设置（齿轮图案）-Internet选项</p><p>在高级选项卡中下拉找到“使用被动FTP”，关闭这个功能，点击应用</p><p>本地端也进行相同操作</p><p>Win11直接搜索Internet选项，进行相同操作即可</p><h5 id="报错3："><a href="#报错3：" class="headerlink" title="报错3："></a>报错3：</h5><p>这个报错的原因是：Windows资源管理器默认是使用被动模式连接，而FTP是多通道协议（控制通道和数据通道）。VPC的ECS网卡只有一个私网IP地址，FTP服务器没有指定被动模式的公网IP地址，导致客户端和服务器建立数据通道的连接时，服务器返回的数据通道的连接地址是私网IP地址，公网路由不可达从而导致连接失败。</p><p>解决方法：</p><p>打开FTP服务器的IIS，打开FTP防火墙支持功能</p><p>注意：不是FTP站点里的FTP防火墙支持；</p><p>设置被动模式的端口范围，指定服务器的公网IP地址，点击“应用”；</p><p>注意：被动模式的端口范围取值大于1023即可</p><p>重启IIS；</p><p>再次测试连接正常，且可以正常传输数据。</p><p>总结</p><p>1、 FTP的工作方式有2种，主动和被动；</p><p>主动模式下控制层端口为21，数据层端口20；</p><p>被动模式下控制层端口未21，数据层端口随机，可设置端口范围；</p><p>2、 使用Windows资源管理器连接FTP时，默认是被动模式，需要取消被动以主动模式连接；</p><p>3、 实际工作中，FTP问题，推荐使用被动模式，方便配置，也更安全。</p><p>————————————————<br>最后的最后：特别感谢Thijs van Loef大佬在github上分享的小工具，它给了我很大的帮助（<a href="https://github.com/thijsvanloef/palworld-server-docker/%EF%BC%89">https://github.com/thijsvanloef/palworld-server-docker/）</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2024/01/17/hello-world/"/>
      <url>/2024/01/17/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
